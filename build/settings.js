(()=>{"use strict";class e{constructor(){this.setupDomainsRefresh()}setupDomainsRefresh(){let e=document.querySelector(".smol-links-reload-domains");e&&e.addEventListener("click",this.reloadDomains.bind(this))}async reloadDomains(e){e.preventDefault();let i=document.querySelector(".smol-links-reload-domains");i.innerHTML,i.innerHTML="Loading domains...",i.classList.add("is-loading"),i.blur();let n=document.querySelector(".smol-links-domain-list");n.setAttribute("disabled","disabled"),n.options[n.selectedIndex].value;let o=await fetch("/wp-admin/admin-ajax.php?action=smol_links_reload_domains");(await o.json()).ok?window.location=window.location.href:i.innerHTML="Error reloading domains",i.classList.remove("is-loading"),n.removeAttribute("disabled")}}window.addEventListener("DOMContentLoaded",(()=>{new e}))})();